{"version":3,"sources":["webpack:///src/app/features/layer/components/layers/layers.component.ts","webpack:///src/app/features/layer/components/layers/layers.component.html","webpack:///src/app/features/layer/state/layer.reducer.ts","webpack:///src/app/features/layer/state/layer.effect.ts","webpack:///node_modules/rxjs/internal/scheduled/scheduleArray.js","webpack:///src/app/state/portfolio.state.ts","webpack:///src/app/features/layer/layer-routing.module.ts","webpack:///node_modules/rxjs/internal/util/pipe.js","webpack:///src/app/features/layer/state/layer.selector.ts","webpack:///node_modules/rxjs/internal/Subscriber.js","webpack:///node_modules/rxjs/internal/util/isObject.js","webpack:///node_modules/rxjs/internal/Observer.js","webpack:///node_modules/rxjs/internal/observable/of.js","webpack:///node_modules/rxjs/internal/util/UnsubscriptionError.js","webpack:///node_modules/rxjs/internal/util/hostReportError.js","webpack:///src/app/features/layer/services/layer.service.ts","webpack:///node_modules/rxjs/internal/util/subscribeToArray.js","webpack:///node_modules/rxjs/internal/Observable.js","webpack:///node_modules/@ngrx/entity/__ivy_ngcc__/fesm2015/ngrx-entity.js","webpack:///src/app/features/layer/state/layer.actions.ts","webpack:///node_modules/rxjs/internal/util/toSubscriber.js","webpack:///src/app/features/layer/layer.module.ts","webpack:///node_modules/rxjs/internal/util/isArray.js","webpack:///node_modules/rxjs/internal/config.js","webpack:///node_modules/rxjs/internal/util/isScheduler.js","webpack:///node_modules/rxjs/internal/symbol/rxSubscriber.js","webpack:///node_modules/rxjs/internal/util/isFunction.js","webpack:///src/app/features/layer/components/removed-layers/removed-layers.component.html","webpack:///src/app/features/layer/components/removed-layers/removed-layers.component.ts","webpack:///node_modules/rxjs/internal/util/noop.js","webpack:///src/app/features/layer/containers/layers-container/layers-container.component.ts","webpack:///src/app/features/layer/containers/layers-container/layers-container.component.html","webpack:///node_modules/rxjs/internal/util/canReportError.js","webpack:///node_modules/rxjs/internal/Subscription.js","webpack:///node_modules/rxjs/internal/symbol/observable.js","webpack:///node_modules/rxjs/internal/observable/fromArray.js"],"names":["LayersComponent","eventHandled","emit","type","data","$event","add","getLayer","initialState","layers","deletedLayers","error","sortByLayerName","a","b","name","localeCompare","layerAdapter","sortComparer","reducer","state","layerReducer","action","LayerEffects","actions$","layerService","loadLayers","pipe","getLayers","dispatch","Object","defineProperty","exports","value","Observable_1","Subscription_1","scheduleArray","input","scheduler","Observable","subscriber","sub","Subscription","i","schedule","length","complete","next","closed","layersState","routes","path","component","LayerRoutingModule","components","forChild","noop_1","fns","_i","arguments","pipeFromArray","noop","piped","reduce","prev","fn","selectLayers","console","log","id","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","isFunction_1","Observer_1","rxSubscriber_1","config_1","hostReportError_1","Subscriber","_super","destinationOrNext","_this","call","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","destination","empty","SafeSubscriber","rxSubscriber","_next","err","_error","_complete","unsubscribe","_unsubscribeAndRecycle","_parentOrParents","_parentSubscriber","observerOrNext","context","isFunction","bind","_context","config","useDeprecatedSynchronousErrorHandling","__tryOrUnsub","__tryOrSetError","hostReportError","wrappedComplete","parent","Error","_unsubscribe","isObject","x","isScheduler_1","fromArray_1","scheduleArray_1","of","args","isScheduler","pop","fromArray","UnsubscriptionErrorImpl","errors","message","map","toString","join","UnsubscriptionError","setTimeout","httpOptions","headers","LayerService","httpClient","baseUrl","get","JSON","stringify","layer","body","post","subscribeToArray","array","len","canReportError_1","toSubscriber_1","observable_1","pipe_1","subscribe","_isScalar","_subscribe","lift","operator","observable","source","sink","toSubscriber","_trySubscribe","canReportError","warn","forEach","promiseCtor","getPromiseCtor","resolve","reject","subscription","operations","toPromise","Promise","getInitialEntityState","ids","entities","createInitialStateFactory","getInitialState","additionalState","assign","createSelectorsFactory","getSelectors","selectState","selectIds","selectEntities","selectAll","selectTotal","DidMutate","EntitiesOnly","Both","None","createStateOperator","mutator","operation","arg","clonedEntityState","didMutate","selectIdValue","entity","selectId","key","undefined","createUnsortedStateAdapter","addOneMutably","push","addManyMutably","setAllMutably","setOneMutably","removeOneMutably","removeManyMutably","keysOrPredicate","keys","filter","removeAll","takeNewKey","update","original","updated","changes","newKey","hasNewKey","updateOneMutably","updateManyMutably","updates","newKeys","didMutateEntities","didMutateIds","mapMutably","change","mapOneMutably","updatedEntity","upsertOneMutably","upsertManyMutably","added","didMutateByUpdated","didMutateByAdded","addOne","addMany","addAll","setAll","setOne","updateOne","updateMany","upsertOne","upsertMany","removeOne","removeMany","mapOne","createSortedStateAdapter","sort","newModels","models","model","merge","val","takeUpdatedModel","originalIds","updatedIndexes","index","every","updatesOrMap","j","modelId","entityId","concat","slice","createEntityAdapter","options","instance","stateFactory","selectorsFactory","stateAdapter","DictionaryNum","Dictionary","UpdateStr","UpdateNum","EntityMapOneNum","EntityMapOneStr","EntityState","EntityDefinition","EntityStateAdapter","EntitySelectors","EntityAdapter","loadLayer","loadLayerSuccess","loadLayerFailure","Subscriber_1","nextOrObserver","LayerModule","forFeature","isArray","_enable_super_gross_mode_that_will_cause_bad_things","stack","Symbol","Math","random","$$rxSubscriber","RemovedLayersComponent","store","LayersContainerComponent","service","title","layers$","description","observer","_a","closed_1","isArray_1","isObject_1","UnsubscriptionError_1","_subscriptions","remove","parent_1","e","flattenUnsubscriptionErrors","teardown","EMPTY","tmp","indexOf","subscriptions","subscriptionIndex","splice","errs","subscribeToArray_1"],"mappings":"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","file":"features-layer-layer-module-es5.js","sourcesContent":["import { Component, OnInit, Input, EventEmitter, Output } from \"@angular/core\";\nimport { Layer } from 'src/app/state/portfolio.state';\n\n@Component({\n  selector: \"smc-layers\",\n  templateUrl: \"./layers.component.html\",\n  styleUrls: [\"./layers.component.scss\"]\n})\nexport class LayersComponent implements OnInit {\n  searchLayerId: number;\n  @Input() layers: Layer[];\n\n  @Output() eventHandled = new EventEmitter<any>();\n\n  constructor() {}\n\n  ngOnInit() {}\n\n  add() {\n    this.eventHandled.emit({ type: \"ADD_LAYER\", data: null });\n  }\n\n  delete($event) {\n    this.eventHandled.emit({ type: \"DELETE_LAYER\", data: $event });\n  }\n  getLayer(){\n    \n  }\n}\n","<div class=\"container-fluid\">\n    <div class=\"jumbotron\">\n      <div class=\"addNewLayer\">\n        <button class=\"btn btn-lg btn-success col-xs-12\" (click)=\"add()\">\n          <span class=\"glyphicon glyphicon-earphone pull-left\"></span> Add Layer\n        </button>\n      </div>\n      <table class=\"table table-striped\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Type</th>\n            <th scope=\"col\">Description</th>\n            <th scope=\"col\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let layer of layers; index as i\">\n            <th scope=\"row\">{{ i + 1 }}</th>\n            <td>\n              <ngb-highlight [result]=\"layer.name\"></ngb-highlight>\n            </td>\n            <td>\n              <ngb-highlight [result]=\"layer.type\"></ngb-highlight>\n            </td>\n            <td>\n              <ngb-highlight [result]=\"layer.description\"></ngb-highlight>\n            </td>\n            <td>\n              <button\n                class=\"btn btn-lg btn-success col-xs-12\"\n                (click)=\"delete(layer)\"\n              >\n                <span class=\"glyphicon glyphicon-earphone pull-left\"></span>\n                Delete\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  \n  \n  <div class=\"container-fluid\">\n    <div class=\"jumbotron\">\n      <input type=\"text\" [(ngModel)]=\"searchLayerId\" /> <br />\n      <button class=\"btn btn-lg btn-success col-xs-12\" (click)=\"getLayer()\">\n        <span class=\"glyphicon glyphicon-earphone pull-left\"></span>\n        Get Layer\n      </button>\n      <span style=\"color: white\" > {{ layers | json }}</span>\n    </div>\n  </div>","import * as fromRoot from \"../../../state/portfolio.state\";\r\nimport { Action, createFeatureSelector, createReducer, createSelector, on } from \"@ngrx/store\";\r\nimport { loadLayer } from \"./layer.actions\";\r\nimport { state } from '@angular/animations';\r\nimport { createEntityAdapter, EntityAdapter } from '@ngrx/entity';\r\nimport { Layer } from '../../../state/portfolio.state';\r\n\r\nexport interface State extends fromRoot.State {\r\n  layers: LayerState;\r\n}\r\n\r\nexport interface LayerState {\r\n  layers: Layer[];\r\n  deletedLayers: Layer[];\r\n  error: string;\r\n}\r\n\r\nconst initialState: LayerState = {\r\n  layers: [],\r\n  deletedLayers: [],\r\n  error: \"\"\r\n};\r\nexport function sortByLayerName(a: Layer, b: Layer): number {\r\n  return a.name.localeCompare(b.name);\r\n}\r\n\r\nexport const layerAdapter: EntityAdapter<Layer> = createEntityAdapter<Layer>({\r\n  sortComparer: sortByLayerName\r\n})\r\nconst reducer = createReducer(\r\n  initialState,\r\n  on(loadLayer, (state) => ({ ...state }))\r\n)\r\nexport function layerReducer(state: LayerState | undefined, action: Action) {\r\n  return reducer(state, action);\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Actions, ofType, createEffect } from \"@ngrx/effects\";\r\nimport { LayerService } from \"../services/layer.service\";\r\nimport { catchError, map, switchMap, tap } from \"rxjs/operators\";\r\nimport { Store } from '@ngrx/store';\r\nimport { loadLayer, loadLayerFailure, loadLayerSuccess } from './layer.actions';\r\nimport { layersState, LayerState } from 'src/app/state/portfolio.state';\r\nimport { EMPTY } from 'rxjs/internal/observable/empty';\r\nimport { of } from 'rxjs/internal/observable/of';\r\n@Injectable()\r\nexport class LayerEffects {\r\n  constructor(\r\n    private actions$: Actions,\r\n    private layerService: LayerService) { }\r\n\r\n  loadLayers = createEffect(() => this.actions$.pipe(ofType(loadLayer),\r\n    tap(() => {\r\n      this.layerService.getLayers().pipe(map(layers => loadLayerSuccess({ layers })),\r\n        catchError(error => of(loadLayerFailure({ error }))))\r\n    }))\r\n    , { dispatch: false });\r\n}\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar Subscription_1 = require(\"../Subscription\");\nfunction scheduleArray(input, scheduler) {\n    return new Observable_1.Observable(function (subscriber) {\n        var sub = new Subscription_1.Subscription();\n        var i = 0;\n        sub.add(scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n                return;\n            }\n            subscriber.next(input[i++]);\n            if (!subscriber.closed) {\n                sub.add(this.schedule());\n            }\n        }));\n        return sub;\n    });\n}\nexports.scheduleArray = scheduleArray;\n//# sourceMappingURL=scheduleArray.js.map","import { createFeatureSelector } from '@ngrx/store';\r\n\r\nexport interface LayerState {\r\n    layers: Layer[]\r\n}\r\nexport interface State {\r\n    users: any;\r\n    layers: LayerState\r\n}\r\n\r\nexport const layersState = createFeatureSelector<State, LayerState>(\r\n    'layers'\r\n);\r\n\r\nexport interface Layer {\r\n    id: number;\r\n    name: string;\r\n    type: string;\r\n    description: string;\r\n}\r\n\r\n\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LayersContainerComponent } from './containers/layers-container/layers-container.component';\nimport { RemovedLayersComponent } from './components/removed-layers/removed-layers.component';\nimport { LayersComponent } from './components/layers/layers.component';\n\n\n\nconst routes: Routes = [\n  {\n    path:\"\",\n    component:LayersContainerComponent,\n    \n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LayerRoutingModule {\n  static components = [\n    LayersContainerComponent,\n    RemovedLayersComponent,\n    LayersComponent,\n  ]\n }\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar noop_1 = require(\"./noop\");\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\nfunction pipeFromArray(fns) {\n    if (!fns) {\n        return noop_1.noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n//# sourceMappingURL=pipe.js.map","import { createSelector } from '@ngrx/store';\r\nimport { layersState, LayerState, State } from 'src/app/state/portfolio.state';\r\n\r\nexport const selectLayers = createSelector(\r\n    layersState, (state: LayerState) => {\r\n        if(state){\r\n            console.log('state', state);\r\n        }\r\n        return state && state.layers ? state.layers : [{\r\n            id: 1, name : 'test aly'\r\n        }]\r\n    });\r\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isFunction_1 = require(\"./util/isFunction\");\nvar Observer_1 = require(\"./Observer\");\nvar Subscription_1 = require(\"./Subscription\");\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError_1.hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError_1.hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexports.SafeSubscriber = SafeSubscriber;\n//# sourceMappingURL=Subscriber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObject(x) {\n    return x !== null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError_1.hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isScheduler_1 = require(\"../util/isScheduler\");\nvar fromArray_1 = require(\"./fromArray\");\nvar scheduleArray_1 = require(\"../scheduled/scheduleArray\");\nfunction of() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = args[args.length - 1];\n    if (isScheduler_1.isScheduler(scheduler)) {\n        args.pop();\n        return scheduleArray_1.scheduleArray(args, scheduler);\n    }\n    else {\n        return fromArray_1.fromArray(args);\n    }\n}\nexports.of = of;\n//# sourceMappingURL=of.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar UnsubscriptionErrorImpl = (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexports.UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\nexports.hostReportError = hostReportError;\n//# sourceMappingURL=hostReportError.js.map","import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { tap } from \"rxjs/operators\";\nimport { Layer } from 'src/app/state/portfolio.state';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ \"Content-Type\": \"application/json\" })\n};\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class LayerService {\n  private baseUrl = \"http://localhost:3000\";\n\n  constructor(private httpClient: HttpClient) {}\n\n  getLayers(): Observable<Layer[]> {\n    // return this.httpClient\n    //   .get<Layer[]>(`${this.baseUrl}/layers`)\n    //   .pipe(tap(data => console.log('in service data ', JSON.stringify(data))));\n    return this.httpClient\n      .get<Layer[]>(`${this.baseUrl}/layers`);\n  }\n\n  getLayerById(id: number): Observable<Layer> {\n    return this.httpClient\n      .get<Layer>(`${this.baseUrl}/layers/${id}`)\n      .pipe(tap(data => console.log(JSON.stringify(data))));\n  }\n\n  addLayer(layer: Layer): Observable<Layer> {\n    let body = JSON.stringify(layer);\n    return this.httpClient.post<Layer>(\n      `${this.baseUrl}/layers`,\n      body,\n      httpOptions\n    );\n  }\n\n  deleteLayer(layer: Layer): Observable<any> {\n    return this.httpClient.delete<Layer>(`${this.baseUrl}/layers/${layer.id}`);\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.subscribeToArray = function (array) { return function (subscriber) {\n    for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n        subscriber.next(array[i]);\n    }\n    subscriber.complete();\n}; };\n//# sourceMappingURL=subscribeToArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar canReportError_1 = require(\"./util/canReportError\");\nvar toSubscriber_1 = require(\"./util/toSubscriber\");\nvar observable_1 = require(\"./symbol/observable\");\nvar pipe_1 = require(\"./util/pipe\");\nvar config_1 = require(\"./config\");\nvar Observable = (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config_1.config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError_1.canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config_1.config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map","import { createSelector } from '@ngrx/store';\nimport { isDevMode } from '@angular/core';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/entity_state.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template V\n * @return {?}\n */\nfunction getInitialEntityState() {\n    return {\n        ids: [],\n        entities: {},\n    };\n}\n/**\n * @template V\n * @return {?}\n */\nfunction createInitialStateFactory() {\n    /**\n     * @param {?=} additionalState\n     * @return {?}\n     */\n    function getInitialState(additionalState = {}) {\n        return Object.assign(getInitialEntityState(), additionalState);\n    }\n    return { getInitialState };\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/state_selectors.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n * @return {?}\n */\nfunction createSelectorsFactory() {\n    /**\n     * @param {?=} selectState\n     * @return {?}\n     */\n    function getSelectors(selectState) {\n        /** @type {?} */\n        const selectIds = (/**\n         * @param {?} state\n         * @return {?}\n         */\n        (state) => state.ids);\n        /** @type {?} */\n        const selectEntities = (/**\n         * @param {?} state\n         * @return {?}\n         */\n        (state) => state.entities);\n        /** @type {?} */\n        const selectAll = createSelector(selectIds, selectEntities, (/**\n         * @param {?} ids\n         * @param {?} entities\n         * @return {?}\n         */\n        (ids, entities) => ids.map((/**\n         * @param {?} id\n         * @return {?}\n         */\n        (id) => ((/** @type {?} */ (entities)))[id]))));\n        /** @type {?} */\n        const selectTotal = createSelector(selectIds, (/**\n         * @param {?} ids\n         * @return {?}\n         */\n        (ids) => ids.length));\n        if (!selectState) {\n            return {\n                selectIds,\n                selectEntities,\n                selectAll,\n                selectTotal,\n            };\n        }\n        return {\n            selectIds: createSelector(selectState, selectIds),\n            selectEntities: createSelector(selectState, selectEntities),\n            selectAll: createSelector(selectState, selectAll),\n            selectTotal: createSelector(selectState, selectTotal),\n        };\n    }\n    return { getSelectors };\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/state_adapter.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @enum {number} */\nconst DidMutate = {\n    EntitiesOnly: 0,\n    Both: 1,\n    None: 2,\n};\nDidMutate[DidMutate.EntitiesOnly] = 'EntitiesOnly';\nDidMutate[DidMutate.Both] = 'Both';\nDidMutate[DidMutate.None] = 'None';\n/**\n * @template V, R\n * @param {?} mutator\n * @return {?}\n */\nfunction createStateOperator(mutator) {\n    return (/**\n     * @template S\n     * @param {?} arg\n     * @param {?} state\n     * @return {?}\n     */\n    function operation(arg, state) {\n        /** @type {?} */\n        const clonedEntityState = {\n            ids: [...state.ids],\n            entities: Object.assign({}, state.entities),\n        };\n        /** @type {?} */\n        const didMutate = mutator(arg, clonedEntityState);\n        if (didMutate === DidMutate.Both) {\n            return Object.assign({}, state, clonedEntityState);\n        }\n        if (didMutate === DidMutate.EntitiesOnly) {\n            return Object.assign(Object.assign({}, state), { entities: clonedEntityState.entities });\n        }\n        return state;\n    });\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/utils.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n * @param {?} entity\n * @param {?} selectId\n * @return {?}\n */\nfunction selectIdValue(entity, selectId) {\n    /** @type {?} */\n    const key = selectId(entity);\n    if (isDevMode() && key === undefined) {\n        console.warn('@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.', 'You should probably provide your own `selectId` implementation.', 'The entity that was passed:', entity, 'The `selectId` implementation:', selectId.toString());\n    }\n    return key;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/unsorted_state_adapter.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n * @param {?} selectId\n * @return {?}\n */\nfunction createUnsortedStateAdapter(selectId) {\n    /**\n     * @param {?} entity\n     * @param {?} state\n     * @return {?}\n     */\n    function addOneMutably(entity, state) {\n        /** @type {?} */\n        const key = selectIdValue(entity, selectId);\n        if (key in state.entities) {\n            return DidMutate.None;\n        }\n        state.ids.push(key);\n        state.entities[key] = entity;\n        return DidMutate.Both;\n    }\n    /**\n     * @param {?} entities\n     * @param {?} state\n     * @return {?}\n     */\n    function addManyMutably(entities, state) {\n        /** @type {?} */\n        let didMutate = false;\n        for (const entity of entities) {\n            didMutate = addOneMutably(entity, state) !== DidMutate.None || didMutate;\n        }\n        return didMutate ? DidMutate.Both : DidMutate.None;\n    }\n    /**\n     * @param {?} entities\n     * @param {?} state\n     * @return {?}\n     */\n    function setAllMutably(entities, state) {\n        state.ids = [];\n        state.entities = {};\n        addManyMutably(entities, state);\n        return DidMutate.Both;\n    }\n    /**\n     * @param {?} entity\n     * @param {?} state\n     * @return {?}\n     */\n    function setOneMutably(entity, state) {\n        /** @type {?} */\n        const key = selectIdValue(entity, selectId);\n        if (key in state.entities) {\n            state.entities[key] = entity;\n            return DidMutate.EntitiesOnly;\n        }\n        state.ids.push(key);\n        state.entities[key] = entity;\n        return DidMutate.Both;\n    }\n    /**\n     * @param {?} key\n     * @param {?} state\n     * @return {?}\n     */\n    function removeOneMutably(key, state) {\n        return removeManyMutably([key], state);\n    }\n    /**\n     * @param {?} keysOrPredicate\n     * @param {?} state\n     * @return {?}\n     */\n    function removeManyMutably(keysOrPredicate, state) {\n        /** @type {?} */\n        const keys = keysOrPredicate instanceof Array\n            ? keysOrPredicate\n            : state.ids.filter((/**\n             * @param {?} key\n             * @return {?}\n             */\n            (key) => keysOrPredicate(state.entities[key])));\n        /** @type {?} */\n        const didMutate = keys\n            .filter((/**\n         * @param {?} key\n         * @return {?}\n         */\n        (key) => key in state.entities))\n            .map((/**\n         * @param {?} key\n         * @return {?}\n         */\n        (key) => delete state.entities[key])).length > 0;\n        if (didMutate) {\n            state.ids = state.ids.filter((/**\n             * @param {?} id\n             * @return {?}\n             */\n            (id) => id in state.entities));\n        }\n        return didMutate ? DidMutate.Both : DidMutate.None;\n    }\n    /**\n     * @template S\n     * @param {?} state\n     * @return {?}\n     */\n    function removeAll(state) {\n        return Object.assign({}, state, {\n            ids: [],\n            entities: {},\n        });\n    }\n    /**\n     * @param {?} keys\n     * @param {?} update\n     * @param {?} state\n     * @return {?}\n     */\n    function takeNewKey(keys, update, state) {\n        /** @type {?} */\n        const original = state.entities[update.id];\n        /** @type {?} */\n        const updated = Object.assign({}, original, update.changes);\n        /** @type {?} */\n        const newKey = selectIdValue(updated, selectId);\n        /** @type {?} */\n        const hasNewKey = newKey !== update.id;\n        if (hasNewKey) {\n            keys[update.id] = newKey;\n            delete state.entities[update.id];\n        }\n        state.entities[newKey] = updated;\n        return hasNewKey;\n    }\n    /**\n     * @param {?} update\n     * @param {?} state\n     * @return {?}\n     */\n    function updateOneMutably(update, state) {\n        return updateManyMutably([update], state);\n    }\n    /**\n     * @param {?} updates\n     * @param {?} state\n     * @return {?}\n     */\n    function updateManyMutably(updates, state) {\n        /** @type {?} */\n        const newKeys = {};\n        updates = updates.filter((/**\n         * @param {?} update\n         * @return {?}\n         */\n        (update) => update.id in state.entities));\n        /** @type {?} */\n        const didMutateEntities = updates.length > 0;\n        if (didMutateEntities) {\n            /** @type {?} */\n            const didMutateIds = updates.filter((/**\n             * @param {?} update\n             * @return {?}\n             */\n            (update) => takeNewKey(newKeys, update, state))).length >\n                0;\n            if (didMutateIds) {\n                state.ids = state.ids.map((/**\n                 * @param {?} id\n                 * @return {?}\n                 */\n                (id) => newKeys[id] || id));\n                return DidMutate.Both;\n            }\n            else {\n                return DidMutate.EntitiesOnly;\n            }\n        }\n        return DidMutate.None;\n    }\n    /**\n     * @param {?} map\n     * @param {?} state\n     * @return {?}\n     */\n    function mapMutably(map, state) {\n        /** @type {?} */\n        const changes = state.ids.reduce((/**\n         * @param {?} changes\n         * @param {?} id\n         * @return {?}\n         */\n        (changes, id) => {\n            /** @type {?} */\n            const change = map(state.entities[id]);\n            if (change !== state.entities[id]) {\n                changes.push({ id, changes: change });\n            }\n            return changes;\n        }), []);\n        /** @type {?} */\n        const updates = changes.filter((/**\n         * @param {?} __0\n         * @return {?}\n         */\n        ({ id }) => id in state.entities));\n        return updateManyMutably(updates, state);\n    }\n    /**\n     * @param {?} __0\n     * @param {?} state\n     * @return {?}\n     */\n    function mapOneMutably({ map, id }, state) {\n        /** @type {?} */\n        const entity = state.entities[id];\n        if (!entity) {\n            return DidMutate.None;\n        }\n        /** @type {?} */\n        const updatedEntity = map(entity);\n        return updateOneMutably({\n            id: id,\n            changes: updatedEntity,\n        }, state);\n    }\n    /**\n     * @param {?} entity\n     * @param {?} state\n     * @return {?}\n     */\n    function upsertOneMutably(entity, state) {\n        return upsertManyMutably([entity], state);\n    }\n    /**\n     * @param {?} entities\n     * @param {?} state\n     * @return {?}\n     */\n    function upsertManyMutably(entities, state) {\n        /** @type {?} */\n        const added = [];\n        /** @type {?} */\n        const updated = [];\n        for (const entity of entities) {\n            /** @type {?} */\n            const id = selectIdValue(entity, selectId);\n            if (id in state.entities) {\n                updated.push({ id, changes: entity });\n            }\n            else {\n                added.push(entity);\n            }\n        }\n        /** @type {?} */\n        const didMutateByUpdated = updateManyMutably(updated, state);\n        /** @type {?} */\n        const didMutateByAdded = addManyMutably(added, state);\n        switch (true) {\n            case didMutateByAdded === DidMutate.None &&\n                didMutateByUpdated === DidMutate.None:\n                return DidMutate.None;\n            case didMutateByAdded === DidMutate.Both ||\n                didMutateByUpdated === DidMutate.Both:\n                return DidMutate.Both;\n            default:\n                return DidMutate.EntitiesOnly;\n        }\n    }\n    return {\n        removeAll,\n        addOne: createStateOperator(addOneMutably),\n        addMany: createStateOperator(addManyMutably),\n        addAll: createStateOperator(setAllMutably),\n        setAll: createStateOperator(setAllMutably),\n        setOne: createStateOperator(setOneMutably),\n        updateOne: createStateOperator(updateOneMutably),\n        updateMany: createStateOperator(updateManyMutably),\n        upsertOne: createStateOperator(upsertOneMutably),\n        upsertMany: createStateOperator(upsertManyMutably),\n        removeOne: createStateOperator(removeOneMutably),\n        removeMany: createStateOperator(removeManyMutably),\n        map: createStateOperator(mapMutably),\n        mapOne: createStateOperator(mapOneMutably),\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/sorted_state_adapter.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n * @param {?} selectId\n * @param {?} sort\n * @return {?}\n */\nfunction createSortedStateAdapter(selectId, sort) {\n    const { removeOne, removeMany, removeAll } = createUnsortedStateAdapter(selectId);\n    /**\n     * @param {?} entity\n     * @param {?} state\n     * @return {?}\n     */\n    function addOneMutably(entity, state) {\n        return addManyMutably([entity], state);\n    }\n    /**\n     * @param {?} newModels\n     * @param {?} state\n     * @return {?}\n     */\n    function addManyMutably(newModels, state) {\n        /** @type {?} */\n        const models = newModels.filter((/**\n         * @param {?} model\n         * @return {?}\n         */\n        (model) => !(selectIdValue(model, selectId) in state.entities)));\n        if (models.length === 0) {\n            return DidMutate.None;\n        }\n        else {\n            merge(models, state);\n            return DidMutate.Both;\n        }\n    }\n    /**\n     * @param {?} models\n     * @param {?} state\n     * @return {?}\n     */\n    function setAllMutably(models, state) {\n        state.entities = {};\n        state.ids = [];\n        addManyMutably(models, state);\n        return DidMutate.Both;\n    }\n    /**\n     * @param {?} entity\n     * @param {?} state\n     * @return {?}\n     */\n    function setOneMutably(entity, state) {\n        /** @type {?} */\n        const id = selectIdValue(entity, selectId);\n        if (id in state.entities) {\n            state.ids = state.ids.filter((/**\n             * @param {?} val\n             * @return {?}\n             */\n            (val) => val !== id));\n            merge([entity], state);\n            return DidMutate.Both;\n        }\n        else {\n            return addOneMutably(entity, state);\n        }\n    }\n    /**\n     * @param {?} update\n     * @param {?} state\n     * @return {?}\n     */\n    function updateOneMutably(update, state) {\n        return updateManyMutably([update], state);\n    }\n    /**\n     * @param {?} models\n     * @param {?} update\n     * @param {?} state\n     * @return {?}\n     */\n    function takeUpdatedModel(models, update, state) {\n        if (!(update.id in state.entities)) {\n            return false;\n        }\n        /** @type {?} */\n        const original = state.entities[update.id];\n        /** @type {?} */\n        const updated = Object.assign({}, original, update.changes);\n        /** @type {?} */\n        const newKey = selectIdValue(updated, selectId);\n        delete state.entities[update.id];\n        models.push(updated);\n        return newKey !== update.id;\n    }\n    /**\n     * @param {?} updates\n     * @param {?} state\n     * @return {?}\n     */\n    function updateManyMutably(updates, state) {\n        /** @type {?} */\n        const models = [];\n        /** @type {?} */\n        const didMutateIds = updates.filter((/**\n         * @param {?} update\n         * @return {?}\n         */\n        (update) => takeUpdatedModel(models, update, state)))\n            .length > 0;\n        if (models.length === 0) {\n            return DidMutate.None;\n        }\n        else {\n            /** @type {?} */\n            const originalIds = state.ids;\n            /** @type {?} */\n            const updatedIndexes = [];\n            state.ids = state.ids.filter((/**\n             * @param {?} id\n             * @param {?} index\n             * @return {?}\n             */\n            (id, index) => {\n                if (id in state.entities) {\n                    return true;\n                }\n                else {\n                    updatedIndexes.push(index);\n                    return false;\n                }\n            }));\n            merge(models, state);\n            if (!didMutateIds &&\n                updatedIndexes.every((/**\n                 * @param {?} i\n                 * @return {?}\n                 */\n                (i) => state.ids[i] === originalIds[i]))) {\n                return DidMutate.EntitiesOnly;\n            }\n            else {\n                return DidMutate.Both;\n            }\n        }\n    }\n    /**\n     * @param {?} updatesOrMap\n     * @param {?} state\n     * @return {?}\n     */\n    function mapMutably(updatesOrMap, state) {\n        /** @type {?} */\n        const updates = state.ids.reduce((/**\n         * @param {?} changes\n         * @param {?} id\n         * @return {?}\n         */\n        (changes, id) => {\n            /** @type {?} */\n            const change = updatesOrMap(state.entities[id]);\n            if (change !== state.entities[id]) {\n                changes.push({ id, changes: change });\n            }\n            return changes;\n        }), []);\n        return updateManyMutably(updates, state);\n    }\n    /**\n     * @param {?} __0\n     * @param {?} state\n     * @return {?}\n     */\n    function mapOneMutably({ map, id }, state) {\n        /** @type {?} */\n        const entity = state.entities[id];\n        if (!entity) {\n            return DidMutate.None;\n        }\n        /** @type {?} */\n        const updatedEntity = map(entity);\n        return updateOneMutably({\n            id: id,\n            changes: updatedEntity,\n        }, state);\n    }\n    /**\n     * @param {?} entity\n     * @param {?} state\n     * @return {?}\n     */\n    function upsertOneMutably(entity, state) {\n        return upsertManyMutably([entity], state);\n    }\n    /**\n     * @param {?} entities\n     * @param {?} state\n     * @return {?}\n     */\n    function upsertManyMutably(entities, state) {\n        /** @type {?} */\n        const added = [];\n        /** @type {?} */\n        const updated = [];\n        for (const entity of entities) {\n            /** @type {?} */\n            const id = selectIdValue(entity, selectId);\n            if (id in state.entities) {\n                updated.push({ id, changes: entity });\n            }\n            else {\n                added.push(entity);\n            }\n        }\n        /** @type {?} */\n        const didMutateByUpdated = updateManyMutably(updated, state);\n        /** @type {?} */\n        const didMutateByAdded = addManyMutably(added, state);\n        switch (true) {\n            case didMutateByAdded === DidMutate.None &&\n                didMutateByUpdated === DidMutate.None:\n                return DidMutate.None;\n            case didMutateByAdded === DidMutate.Both ||\n                didMutateByUpdated === DidMutate.Both:\n                return DidMutate.Both;\n            default:\n                return DidMutate.EntitiesOnly;\n        }\n    }\n    /**\n     * @param {?} models\n     * @param {?} state\n     * @return {?}\n     */\n    function merge(models, state) {\n        models.sort(sort);\n        /** @type {?} */\n        const ids = [];\n        /** @type {?} */\n        let i = 0;\n        /** @type {?} */\n        let j = 0;\n        while (i < models.length && j < state.ids.length) {\n            /** @type {?} */\n            const model = models[i];\n            /** @type {?} */\n            const modelId = selectIdValue(model, selectId);\n            /** @type {?} */\n            const entityId = state.ids[j];\n            /** @type {?} */\n            const entity = state.entities[entityId];\n            if (sort(model, entity) <= 0) {\n                ids.push(modelId);\n                i++;\n            }\n            else {\n                ids.push(entityId);\n                j++;\n            }\n        }\n        if (i < models.length) {\n            state.ids = ids.concat(models.slice(i).map(selectId));\n        }\n        else {\n            state.ids = ids.concat(state.ids.slice(j));\n        }\n        models.forEach((/**\n         * @param {?} model\n         * @param {?} i\n         * @return {?}\n         */\n        (model, i) => {\n            state.entities[selectId(model)] = model;\n        }));\n    }\n    return {\n        removeOne,\n        removeMany,\n        removeAll,\n        addOne: createStateOperator(addOneMutably),\n        updateOne: createStateOperator(updateOneMutably),\n        upsertOne: createStateOperator(upsertOneMutably),\n        addAll: createStateOperator(setAllMutably),\n        setAll: createStateOperator(setAllMutably),\n        setOne: createStateOperator(setOneMutably),\n        addMany: createStateOperator(addManyMutably),\n        updateMany: createStateOperator(updateManyMutably),\n        upsertMany: createStateOperator(upsertManyMutably),\n        map: createStateOperator(mapMutably),\n        mapOne: createStateOperator(mapOneMutably),\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/create_adapter.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n * @param {?=} options\n * @return {?}\n */\nfunction createEntityAdapter(options = {}) {\n    const { selectId, sortComparer } = Object.assign({ sortComparer: false, selectId: (/**\n         * @param {?} instance\n         * @return {?}\n         */\n        (instance) => instance.id) }, options);\n    /** @type {?} */\n    const stateFactory = createInitialStateFactory();\n    /** @type {?} */\n    const selectorsFactory = createSelectorsFactory();\n    /** @type {?} */\n    const stateAdapter = sortComparer\n        ? createSortedStateAdapter(selectId, sortComparer)\n        : createUnsortedStateAdapter(selectId);\n    return Object.assign(Object.assign(Object.assign({ selectId,\n        sortComparer }, stateFactory), selectorsFactory), stateAdapter);\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/models.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n * @template T\n */\nfunction DictionaryNum() { }\n/**\n * @abstract\n * @template T\n */\nclass Dictionary {\n}\n/**\n * @record\n * @template T\n */\nfunction UpdateStr() { }\nif (false) {\n    /** @type {?} */\n    UpdateStr.prototype.id;\n    /** @type {?} */\n    UpdateStr.prototype.changes;\n}\n/**\n * @record\n * @template T\n */\nfunction UpdateNum() { }\nif (false) {\n    /** @type {?} */\n    UpdateNum.prototype.id;\n    /** @type {?} */\n    UpdateNum.prototype.changes;\n}\n/**\n * @record\n * @template T\n */\nfunction EntityMapOneNum() { }\nif (false) {\n    /** @type {?} */\n    EntityMapOneNum.prototype.id;\n    /** @type {?} */\n    EntityMapOneNum.prototype.map;\n}\n/**\n * @record\n * @template T\n */\nfunction EntityMapOneStr() { }\nif (false) {\n    /** @type {?} */\n    EntityMapOneStr.prototype.id;\n    /** @type {?} */\n    EntityMapOneStr.prototype.map;\n}\n/**\n * @record\n * @template T\n */\nfunction EntityState() { }\nif (false) {\n    /** @type {?} */\n    EntityState.prototype.ids;\n    /** @type {?} */\n    EntityState.prototype.entities;\n}\n/**\n * @record\n * @template T\n */\nfunction EntityDefinition() { }\nif (false) {\n    /** @type {?} */\n    EntityDefinition.prototype.selectId;\n    /** @type {?} */\n    EntityDefinition.prototype.sortComparer;\n}\n/**\n * @record\n * @template T\n */\nfunction EntityStateAdapter() { }\nif (false) {\n    /**\n     * @template S\n     * @param {?} entity\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.addOne = function (entity, state) { };\n    /**\n     * @template S\n     * @param {?} entities\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.addMany = function (entities, state) { };\n    /**\n     * @deprecated addAll has been renamed. Use setAll instead.\n     * @template S\n     * @param {?} entities\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.addAll = function (entities, state) { };\n    /**\n     * @template S\n     * @param {?} entities\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.setAll = function (entities, state) { };\n    /**\n     * @template S\n     * @param {?} entity\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.setOne = function (entity, state) { };\n    /**\n     * @template S\n     * @param {?} key\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.removeOne = function (key, state) { };\n    /**\n     * @template S\n     * @param {?} key\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.removeOne = function (key, state) { };\n    /**\n     * @template S\n     * @param {?} keys\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.removeMany = function (keys, state) { };\n    /**\n     * @template S\n     * @param {?} keys\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.removeMany = function (keys, state) { };\n    /**\n     * @template S\n     * @param {?} predicate\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.removeMany = function (predicate, state) { };\n    /**\n     * @template S\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.removeAll = function (state) { };\n    /**\n     * @template S\n     * @param {?} update\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.updateOne = function (update, state) { };\n    /**\n     * @template S\n     * @param {?} updates\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.updateMany = function (updates, state) { };\n    /**\n     * @template S\n     * @param {?} entity\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.upsertOne = function (entity, state) { };\n    /**\n     * @template S\n     * @param {?} entities\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.upsertMany = function (entities, state) { };\n    /**\n     * @template S\n     * @param {?} map\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.mapOne = function (map, state) { };\n    /**\n     * @template S\n     * @param {?} map\n     * @param {?} state\n     * @return {?}\n     */\n    EntityStateAdapter.prototype.map = function (map, state) { };\n}\n/**\n * @record\n * @template T, V\n */\nfunction EntitySelectors() { }\nif (false) {\n    /** @type {?} */\n    EntitySelectors.prototype.selectIds;\n    /** @type {?} */\n    EntitySelectors.prototype.selectEntities;\n    /** @type {?} */\n    EntitySelectors.prototype.selectAll;\n    /** @type {?} */\n    EntitySelectors.prototype.selectTotal;\n}\n/**\n * @record\n * @template T\n */\nfunction EntityAdapter() { }\nif (false) {\n    /** @type {?} */\n    EntityAdapter.prototype.selectId;\n    /** @type {?} */\n    EntityAdapter.prototype.sortComparer;\n    /**\n     * @return {?}\n     */\n    EntityAdapter.prototype.getInitialState = function () { };\n    /**\n     * @template S\n     * @param {?} state\n     * @return {?}\n     */\n    EntityAdapter.prototype.getInitialState = function (state) { };\n    /**\n     * @return {?}\n     */\n    EntityAdapter.prototype.getSelectors = function () { };\n    /**\n     * @template V\n     * @param {?} selectState\n     * @return {?}\n     */\n    EntityAdapter.prototype.getSelectors = function (selectState) { };\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: public_api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: ngrx-entity.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { Dictionary, createEntityAdapter };\n\n//# sourceMappingURL=ngrx-entity.js.map","import { Action, createAction, props } from \"@ngrx/store\";\r\nimport { Layer } from 'src/app/state/portfolio.state';\r\n\r\nexport const loadLayer = createAction('[Layer] LoadLayer');\r\nexport const loadLayerSuccess = createAction('[Layer] Load Layer Success', props<{ layers: Layer[] }>());\r\nexport const loadLayerFailure = createAction('[Layer] Load Layer Failure', props<{ error: any }>());\r\n\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nvar rxSubscriber_1 = require(\"../symbol/rxSubscriber\");\nvar Observer_1 = require(\"../Observer\");\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\n\nimport { NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\n\nimport { LayerRoutingModule } from \"./layer-routing.module\";\nimport { StoreModule } from \"@ngrx/store\";\nimport { layerReducer } from \"./state/layer.reducer\";\n\nimport { RemovedLayersComponent } from \"./components/removed-layers/removed-layers.component\";\nimport { LayersComponent } from \"./components/layers/layers.component\";\nimport { EffectsModule } from '@ngrx/effects';\nimport { LayerEffects } from './state/layer.effect';\n\n@NgModule({\n  declarations: [LayerRoutingModule.components],\n  imports: [\n    CommonModule,\n    FormsModule,\n    LayerRoutingModule,\n    NgbModule,\n    StoreModule.forFeature(\"layerReducer\", layerReducer),\n    EffectsModule.forFeature([LayerEffects]),\n  ]\n})\nexport class LayerModule {\n  \n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexports.config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = new Error();\n            console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\nexports.isScheduler = isScheduler;\n//# sourceMappingURL=isScheduler.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rxSubscriber = (function () {\n    return typeof Symbol === 'function'\n        ? Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + Math.random();\n})();\nexports.$$rxSubscriber = exports.rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map","<div class=\"container-fluid\">\n    <div class=\"jumbotron\">\n     \n      <table class=\"table table-striped\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Type</th>\n            <th scope=\"col\">Description</th>\n            <th scope=\"col\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let layer of deletedLayers$ | async; index as i\">\n            <th scope=\"row\">{{ i + 1 }}</th>\n            <td>\n              <ngb-highlight [result]=\"layer.name\"></ngb-highlight>\n            </td>\n            <td>\n              <ngb-highlight [result]=\"layer.type\"></ngb-highlight>\n            </td>\n            <td>\n              <ngb-highlight [result]=\"layer.description\"></ngb-highlight>\n            </td>\n            <td>\n              <button\n                class=\"btn btn-lg btn-success col-xs-12\"\n                (click)=\"restore(layer)\"\n              >\n                <span class=\"glyphicon glyphicon-earphone pull-left\"></span>\n                Restore\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n ","import { Component, OnInit, Input } from \"@angular/core\";\nimport { Store, select } from \"@ngrx/store\";\nimport { Observable } from 'rxjs/Rx';\nimport { Layer } from 'src/app/state/portfolio.state';\n\n@Component({\n  selector: \"smc-removed-layers\",\n  templateUrl: \"./removed-layers.component.html\",\n  styleUrls: [\"./removed-layers.component.scss\"]\n})\nexport class RemovedLayersComponent implements OnInit {\n\n  @Input() deletedLayers$ : Observable<Layer[]>;\n\n  constructor(private store: Store<any>) {}\n\n  ngOnInit() {\n    \n  }\n  restore(layer : any){\n\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction noop() { }\nexports.noop = noop;\n//# sourceMappingURL=noop.js.map","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  ChangeDetectionStrategy\r\n} from \"@angular/core\";\r\nimport { Store, select } from \"@ngrx/store\";\r\nimport { LayerService } from \"../../services/layer.service\";\r\nimport * as fromLayer from \"../../state/layer.reducer\";\r\nimport * as LayerActions from \"../../state/layer.actions\";\r\nimport { Observable } from \"rxjs\";\r\nimport { Layer, State } from 'src/app/state/portfolio.state';\r\nimport { selectLayers } from '../../state/layer.selector';\r\n\r\n@Component({\r\n  selector: \"smc-layers-container\",\r\n  templateUrl: \"./layers-container.component.html\",\r\n  styleUrls: [\"./layers-container.component.scss\"],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class LayersContainerComponent implements OnInit {\r\n  title = \"Default title\";\r\n  searchLayerId: number;\r\n  layers$ = this.store.pipe(select(selectLayers));\r\n  deletedLayers$ : Observable<any>;\r\n  constructor(\r\n    private store: Store<State>,\r\n    private service: LayerService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.store.dispatch(LayerActions.loadLayer());\r\n    this.layers$.subscribe(data => {\r\n      console.log('layers data', data);\r\n    });\r\n    // this.service.getLayers().subscribe(data => {\r\n    //   console.log('test get layers', data);\r\n\r\n    // })\r\n  }\r\n\r\n  eventHandled($event) {\r\n    if ($event.type === \"ADD_LAYER\") {\r\n      const layer = {} as Layer;\r\n      layer.name = \"layer test\";\r\n      layer.type = \"layer type\";\r\n      layer.description = \"desc\";\r\n\r\n    }\r\n    if ($event.type === \"DELETE_LAYER\") {\r\n    }\r\n  }\r\n}\r\n","<div class=\"row\">\n  <div class=\"col-md-12\">\n    <smc-layers\n      [layers]=\"layers$ | async\"\n      (eventHandled)=\"eventHandled($event)\"\n    ></smc-layers>\n  </div>\n  <div class=\"col-md-12\">\n    <smc-removed-layers [deletedLayers$]=\"deletedLayers$\" ></smc-removed-layers>\n  </div>\n</div>\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber_1.Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\nexports.canReportError = canReportError;\n//# sourceMappingURL=canReportError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArray_1 = require(\"./util/isArray\");\nvar isObject_1 = require(\"./util/isObject\");\nvar isFunction_1 = require(\"./util/isFunction\");\nvar UnsubscriptionError_1 = require(\"./util/UnsubscriptionError\");\nvar Subscription = (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError_1.UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.observable = (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"../Observable\");\nvar subscribeToArray_1 = require(\"../util/subscribeToArray\");\nvar scheduleArray_1 = require(\"../scheduled/scheduleArray\");\nfunction fromArray(input, scheduler) {\n    if (!scheduler) {\n        return new Observable_1.Observable(subscribeToArray_1.subscribeToArray(input));\n    }\n    else {\n        return scheduleArray_1.scheduleArray(input, scheduler);\n    }\n}\nexports.fromArray = fromArray;\n//# sourceMappingURL=fromArray.js.map"]}